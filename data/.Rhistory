hist(trump_data$covid[-80])
hist(trump_data$healthcare[-70])
hist(trump_data$covid[-88])
hist(trump_data$healthcare[-77])
hist(trump_data$covid[-88])
trump_data$covid!=88
hist(trump_data$covid[trump_data$covid!=88])
ggplot(trump_data,aes(covid))+
geom_historgram()
ggplot(trump_data,aes(covid))+
geom_histogram()
ggplot(trump_data,aes(x=covid[covid!=77],color=factor(covid)))+
geom_histogram()
ggplot(trump_data,aes(x=covid)+
geom_col()
ggplot(trump_data,aes(x=covid)+
geom_col()
hist(trump_data$covid[trump_data$covid!=88])
ggplot(trump_data)+
geom_col(x=covid[trump_data$covid!=88])
trump_data$covid<- ifelse(trump_data$covid!=88,NA,trump_data$covid)
View(trump_data)
trump_data$covid<- ifelse(trump_data$covid!=88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$heathcare!=77,NA,trump_data$healthcare)
trump_data$covid<- ifelse(trump_data$covid!=88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$healthcare!=77,NA,trump_data$healthcare)
View(trump_data)
trump_data <- anes_pilot_2020%>%
select(apppres7:healthcarepres7)%>%
filter(apppres7!=99,frnpres7!=99, immpres7!=99,econpres7!=99,covidpres7!=99,healthcarepres7!=99)%>%
transmute(Job=apppres7,relation=frnpres7,immgration=immpres7,economy=econpres7,covid=covidpres7,healthcare=healthcarepres7)
trump_data$covid<- ifelse(trump_data$covid==88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
ggplot(trump_data)+
geom_col(x=covid[trump_data$covid!=88])
hist(trump_data$covid[trump_data$covid!=88])
hist(trump_data$healthcare!=77)
ggplot(trump_data,aes(covid))+
geom_color()
View(trump_data)
ggplot(trump_data,aes(covid))+
geom_col()
hist(trump_data$covid)
hist(trump_data$healthcare)
trump_data$covid<- ifelse(trump_data$covid==88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
ggplot(trump_data)+
geom_col(x=covid[trump_data$covid!=88])
hist(trump_data$covid)
hist(trump_data$healthcare)
ggplot(trump_data,aes(covid))+
geom_col()
trump_data$covid<- ifelse(trump_data$covid==88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
ggplot(trump_data)+
geom_col(x=covid[trump_data$covid!=88])
hist(trump_data$covid)
hist(trump_data$healthcare)
ggplot(trump_data,aes(covid))+
geom_col()
hist(trump_data$covid)
hist(trump_data$healthcare)
hist(trump_data$covid)
ggplot(trump_data)+
geom_histogram(covid)
ggplot(trump_data,aes(covid))+
geom_histogram()
ggplot(trump_data,aes(covid,color=factor(covid)))+
geom_histogram()
ggplot(trump_data,aes(covid,fill=factor(covid)))+
geom_histogram()
ggplot(trump_data,aes(covid,fill=factor(covid)))+
geom_histogram()+
geom_density()
trump_data$covid<- ifelse(trump_data$covid==88,NA,trump_data$covid)
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
ggplot(trump_data,aes(covid,fill=factor(covid)))+
geom_histogram()+
geom_density()
ggplot(trump_data,aes(heathcare,fill=factor(covid)))+
geom_histogram())
ks.test(trump_data$covid,trump_data$healthcare)
chisq.test(trump_data$covid,trump_data$healthcare)
count(trump_data$covid)
count(trump_data$healthcare)
count(factor(trump_data$covid))
count(factor(trump_data$healthcare))
?chisq.test()
trump_data$covid%>%
count()
trump_data$covid%>%
grounp_by(covid)
```{r}
trump_data$covid%>%
group_by(covid)
table(trump_data$covid)
test_data<- as.table(c(table(trump_data$covid),
table(trump_data$healthcare)))
test_data
test_data<- as.table(rbind(table(trump_data$covid),
table(trump_data$healthcare)))
test_data
table(trump_data$covid)
table(trump_data$healthcare)
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
test_data
chisq.test(test_data)
test_data
chisq.test(test_data)
ggplot(test_data, aes(1:7,covid)+
geom_points(
ggplot(trump_data, aes(covid,healthcare))+geom_historgram()
```{r}
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
chisq.test(test_data)
ggplot(trump_data, aes(covid,healthcare))+geom_historgram()
```{r}
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
chisq.test(test_data)
ggplot(trump_data, aes(covid,healthcare))+geom_histogram()
ggplot(trump_data)+geom_histogram(covid)
ggplot(trump_data)+geom_histogram(aes(covid))
ggplot(trump_data)
+geom_histogram(aes(covid))+
geom_histogram(aes(healthcare))
ggplot(trump_data)
+geom_point(aes(covid))+
geom_point(aes(healthcare))
ggplot(trump_data)
+geom_point(aes(covid))
ggplot(trump_data)
+geom_point(aes(covid))
graph_data<-trump_data%>%
mutate(form=ifelse(trump_data$covid!=NA,1,2),K=ifelse(trump_data$covid!=NA,covid,healthcare))
View(graph_data)
graph_data<-trump_data%>%
mutate(quest_form=ifelse(trump_data$covid!=NA,"Q1","Q2"),K=ifelse(trump_data$covid!=NA,trump_data$covid,trump_data$healthcare))
View(graph_data)
graph_data<-trump_data%>%
mutate(quest_form=ifelse(trump_data$covid!=NA,"Q1","Q2"),K=ifelse(trump_data$covid!=NA,trump_data$covid,trump_data$healthcare))
graph_data<-trump_data%>%
mutate(quest_form=ifelse(trump_data$covid!=NA,"Q1","Q2"),K=ifelse(trump_data$covid!=NA,trump_data$covid,trump_data$healthcare))
View(graph_data)
epres7)
trump_data$form<- ifelse(trump_data$covid==88,"heathcare","covid")
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
trump_data$covid <-ifelse(trump_data$healthcare==88 ,NA,trump_data$covid)
ary(tidyverse)
anes_pilot_2020<-read_csv("../data/anes_pilot_2020ets_csv.csv")
#clear all missing data, and rename the variable
trump_data <- anes_pilot_2020%>%
select(apppres7:healthcarepres7)%>%
filter(apppres7!=99,frnpres7!=99, immpres7!=99,econpres7!=99,covidpres7!=99,healthcarepres7!=99)%>%
transmute(Job=apppres7,relation=frnpres7,immgration=immpres7,economy=econpres7,covid=covidpres7,healthcare=healthcarepres7)
trump_data$form<- ifelse(trump_data$covid==88,"heathcare","covid")
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
trump_data$covid <-ifelse(trump_data$healthcare==88 ,NA,trump_data$covid)
trump_data <- anes_pilot_2020%>%
select(apppres7:healthcarepres7)%>%
filter(apppres7!=99,frnpres7!=99, immpres7!=99,econpres7!=99,covidpres7!=99,healthcarepres7!=99)%>%
transmute(Job=apppres7,relation=frnpres7,immgration=immpres7,economy=econpres7,covid=covidpres7,healthcare=healthcarepres7)
trump_data$form<- ifelse(trump_data$covid==88,"heathcare","covid")
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
trump_data$covid <-ifelse(trump_data$healthcare==88 ,NA,trump_data$covid)
View(trump_data)
#clear all missing data, and rename the variable
t
```
There are two differnt wording in terms of healthcare or covid-19, let's check if the two different working inflence people'choice.
trump_data <- anes_pilot_2020%>%
select(apppres7:healthcarepres7)%>%
filter(apppres7!=99,frnpres7!=99, immpres7!=99,econpres7!=99,covidpres7!=99,healthcarepres7!=99)%>%
transmute(Job=apppres7,relation=frnpres7,immgration=immpres7,economy=econpres7,covid=covidpres7,healthcare=healthcarepres7)
trump_data$form<- ifelse(trump_data$covid==88,"heathcare","covid")
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
trump_data$covid <-ifelse(trump_data$covid==88 ,NA,trump_data$covid)
View(trump_data)
```{r}
covid_data<- anes_pilot_2020%>%
transmute(covid1,covid2,covid_elect)
mis_covid_data<-anes_pilot_2020%>%
transmute(mis_covid1,conf_covid1,mis_covid2,conf_covid2)
```
```
```{r}
1+NA
```
trump_data[["apppres7"]]
?coalesce
trump_data%>%
mutate(answer=coalesce(covid,healthcare))
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
filter(-c(covid,healthcare))
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
filter(-covid,-healthcare)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
filter(-covid,-healthcare)
?filter()
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form)%>%
summarize(count(degree))
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form)%>%
summarise(degree)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form)%>%
summarise(count(degree))
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
summarise(count(form))
?summarize
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
summarise(frequency=count(degree))
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
count(degree)
trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
count(degree)%>%
ungrounp()
ggplot(graph_data,aes(degree,n,color=form))+
geom_col()
ggplot(graph_data,aes(x=degree,y=n,color=form))+
geom_col()
ggplot(graph_data,aes(x=factor(degree),y=n,color=form))+
geom_col()
ggplot(graph_data,aes(x=factor(form),y=n))+
geom_bar()
graph_data
graph_data<-trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
count(degree)
ggplot(graph_data,aes(x=factor(form),y=n))+
geom_bar()
graph_data<-trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)%>%
group_by(form,degree)%>%
count(degree)
graph_data
ggplot(graph_data,aes(x=factor(form),y=n))+
geom_bar()
ggplot(graph_data)+
geom_bar(aes(factor(form)))
graph_data
View(graph_data)
ggplot(graph_data)+
geom_bar(aes(degree, fill= factor(degree)))
ggplot(graph_data)+
geom_bar(aes(degree, fill= factor(degree)))+
facet(~form)
ggplot(graph_data)+
geom_bar(aes(degree, fill= factor(degree)))+
facet_grid(~form)
ggplot(graph_data)+
geom_bar(aes(form, fill= factor(form)))+
facet_grid(~degree)
ggplot(graph_data)+
geom_bar(aes(x=factor(form), fill= factor(form)))+
facet_grid(~degree)
graph_data<-trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
select(-covid,-healthcare)
graph_data<-trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
group_by(degree,form)%>%
count(degree)
graph_data
ggplot(graph_data,aes(degree,n, col=degree))+
geom_bar()
ggplot(graph_data,aes(degree,n, color=degree))+
geom_bar()
ggplot(graph_data,aes(factor(degree),n, color=factor(degree)))+
geom_bar()
ggplot(graph_data,aes(factor(degree),n, color=factor(degree)))+
geom_col()
ggplot(graph_data,aes(factor(degree),n, fill=factor(degree)))+
geom_col()
ggplot(graph_data,aes(factor(degree),n, fill=factor(form)))+
geom_col()
ggplot(graph_data)+
geom_col(factor(form),n)
ggplot(graph_data)+
geom_col(aes(factor(form),n))+
facet_grid(~degree)
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
labs(title="",fill="form",x="")
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
labs(title="",fill="Question version",x="")
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
labs(title="",fill="Question version",x="")
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
coord_flip()
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
coord_flip()
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
coord_flip()
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)+
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)
ggplot(graph_data)+
geom_col(aes(factor(form),n, fill=factor(form)))+
facet_grid(~degree)
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col()+
coord_flip()
library(tidyverse)
anes_pilot_2020<-read_csv("../data/anes_pilot_2020ets_csv.csv")
#clear all missing data, and rename the variable
trump_data <- anes_pilot_2020%>%
select(apppres7:healthcarepres7)%>%
filter(apppres7!=99,frnpres7!=99, immpres7!=99,econpres7!=99,covidpres7!=99,healthcarepres7!=99)%>%
transmute(Job=apppres7,relation=frnpres7,immgration=immpres7,economy=econpres7,covid=covidpres7,healthcare=healthcarepres7)
trump_data$form<- ifelse(trump_data$covid==88,"healthcare","covid")
trump_data$healthcare<- ifelse(trump_data$healthcare==77,NA,trump_data$healthcare)
trump_data$covid <-ifelse(trump_data$covid==88 ,NA,trump_data$covid)
graph_data<-trump_data%>%
mutate(degree=coalesce(covid,healthcare))%>%
group_by(degree,form)%>%
count(degree)
ggplot(graph_data,aes(factor(degree),n, fill=factor(form)))+
geom_col()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col()+
coord_flip()
labs(title="",fill="Question version",x="")
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
chisq.test(test_data)
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col()+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col("dodge")+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col("dodge")+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col("dodge")+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col("dodge")+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="")
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x=" ")
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x=" ")
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_fill_manual(values = c("Approve extremely strongly",
"Approve moderately strongly","Approve slightly","Neither approve nor
disapprove","Disapprove slightly","Disapprove moderately
strongly","Disapprove extremely strongly"))
?scale_fill_manual()
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_fill_manual(labels = c("Approve extremely strongly",
"Approve moderately strongly","Approve slightly","Neither approve nor
disapprove","Disapprove slightly","Disapprove moderately
strongly","Disapprove extremely strongly"))
p <- ggplot(mtcars, aes(mpg, wt)) +
geom_point(aes(colour = factor(cyl)))
p + scale_colour_manual(
values = cols,
breaks = c("4", "6", "8"),
labels = c("four", "six", "eight")
)
p <- ggplot(mtcars, aes(mpg, wt)) +
geom_point(aes(colour = factor(cyl)))
p + scale_colour_manual(
values = cols,
breaks = c("4", "6", "8"),
labels = c("four", "six", "eight")
)
p <- ggplot(mtcars, aes(mpg, wt)) +
geom_point(aes(colour = factor(cyl)))
p + scale_colour_manual(
values = cols,
breaks = c("4", "6", "8"),
labels = c("four", "six", "eight")
)
p + scale_colour_manual(values = cols)
p <- ggplot(mtcars, aes(mpg, wt)) +
geom_point(aes(colour = factor(cyl)))
p + scale_colour_manual(values = c("red", "blue", "green"))
p + scale_colour_manual(
values = cols,
breaks = c("4", "6", "8"),
labels = c("four", "six", "eight")
)
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_x_discrete(labels = c("Approve extremely strongly",
"Approve moderately strongly","Approve slightly","Neither approve nor
disapprove","Disapprove slightly","Disapprove moderately
strongly","Disapprove extremely strongly"))
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_x_discrete(labels = c("Approve extremely strongly",
"Approve moderately strongly","Approve slightly","Neither approve nor
disapprove","Disapprove slightly","Disapprove moderately
strongly","Disapprove extremely strongly"))
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_x_discrete(labels = c("Approve extremely ",
"Approve moderately","Approve slightly","Neither","Disapprove slightly","Disapprove moderately
","Disapprove extremely"))
?scale_fill_manual()
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
chisq.test(test_data)
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_x_discrete(labels = c("1",
"2","3","4","5","6","7"))
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")+
scale_x_discrete(labels = c("1"="approve extremely",
"2","3","4","5","6","7"))
ggplot(graph_data,aes(degree,n, fill=form))+
geom_col(position = "dodge")+
coord_flip()+
labs(title="",fill="Question version",x="count")
test_data<- as.table(rbind(covid=table(trump_data$covid),
healthcare=table(trump_data$healthcare)))
chisq.test(test_data)
covid_data<- anes_pilot_2020%>%
transmute(covid1,covid2,covid_elect)
mis_covid_data<-anes_pilot_2020%>%
transmute(mis_covid1,conf_covid1,mis_covid2,conf_covid2)
covid_data
mis_covid_data
